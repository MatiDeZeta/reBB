/* Dark Mode Styles */
body.dark-mode {
    background-color: #121212;
    color: #e0e0e0;
}

/* Header/Title styles */
body.dark-mode h1, 
body.dark-mode h2, 
body.dark-mode h3, 
body.dark-mode h4, 
body.dark-mode h5, 
body.dark-mode h6 {
    color: #ffffff;
}

/* Container/Form styles */
body.dark-mode .form-box,
body.dark-mode #form-container,
body.dark-mode #output-container,
body.dark-mode #content-wrapper,
body.dark-mode .card,
body.dark-mode .table {
    background-color: #1e1e1e;
    color: #e0e0e0;
}

/* Form controls */
body.dark-mode .form-control,
body.dark-mode input,
body.dark-mode textarea,
body.dark-mode select {
    background-color: #2d2d2d;
    color: #e0e0e0;
    border-color: #444;
}

/* Placeholder text in dark mode */
body.dark-mode ::placeholder,
body.dark-mode input::placeholder,
body.dark-mode textarea::placeholder {
    color: #aaaaaa;
    opacity: 1;
}

/* Builder specific */
body.dark-mode #builder,
body.dark-mode .formio-builder,
body.dark-mode .formio-dialog .formio-dialog-content {
    background-color: #1e1e1e;
    color: #e0e0e0;
}

/* Formio specific elements */
body.dark-mode .formio-component,
body.dark-mode .formio-container,
body.dark-mode .formio-form,
body.dark-mode .formio-component-table .formio-table {
    background-color: #1e1e1e;
    color: #e0e0e0;
}

body.dark-mode .formio-component-datagrid .datagrid-add {
    background-color: #2d2d2d;
}

/* Builder sidebar text */
body.dark-mode #builder-sidebar-build,
body.dark-mode #builder-sidebar-build *,
body.dark-mode .builder-sidebar,
body.dark-mode .builder-sidebar *,
body.dark-mode .formio-builder-panel-header,
body.dark-mode .formio-builder-group-header,
body.dark-mode .formio-builder-component {
    color: #ffffff;
}

/* Wildcard dark mode adjustments */
body.dark-mode .wildcard {
    background-color: #2d2d2d;
    border-color: #444;
    color: #e0e0e0;
}

body.dark-mode .copy-btn {
    color: #aaa;
}

body.dark-mode .copy-btn:hover {
    color: #4da3ff;
    background-color: rgba(77, 163, 255, 0.1);
}

body.dark-mode .wildcard-used {
    background-color: #1e462d;
    border-color: #285e3b;
    color: #a3d7b5;
}

body.dark-mode .wildcard-used .copy-btn {
    color: #a3d7b5;
}

body.dark-mode .wildcard-used .copy-btn:hover {
    color: #c3e6cb;
    background-color: rgba(163, 215, 181, 0.1);
}

/* Footer */
body.dark-mode .footer {
    background-color: #1e1e1e;
    color: #aaa;
}

body.dark-mode .footer a {
    color: #4da3ff;
}

/* Success message */
body.dark-mode #success-message.alert-success {
    background-color: #1e462d;
    color: #e0e0e0;
    border-color: #285e3b;
}

/* Dark mode for danger wildcard state */
body.dark-mode .wildcard-danger {
    background-color: #2c1315;
    border-color: #dc3545;
    color: #f8d7da;
    box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
    font-weight: bold;
}

body.dark-mode .wildcard-danger .copy-btn {
    color: #f8d7da;
}

body.dark-mode .wildcard-danger .copy-btn:hover {
    color: #ff6b70;
    background-color: rgba(220, 53, 69, 0.2);
}

/* Table component dark mode styles */
body.dark-mode .table-responsive,
body.dark-mode table.table,
body.dark-mode .formio-component-table,
body.dark-mode .formio-component-table .table,
body.dark-mode .formio-component-table .table tbody,
body.dark-mode .formio-component-table .table tr,
body.dark-mode .formio-component-table .table td,
body.dark-mode .formio-component-table .table th,
body.dark-mode table,
body.dark-mode th,
body.dark-mode td {
    background-color: #1e1e1e;
    color: #e0e0e0;
    border-color: #444;
}

/* Additional fixes for form.io builder specific tables */
body.dark-mode .formbuilder .table,
body.dark-mode .formbuilder .table thead,
body.dark-mode .formbuilder .table tbody,
body.dark-mode .formbuilder .table tr,
body.dark-mode .formbuilder .table th,
body.dark-mode .formbuilder .table td,
body.dark-mode div[ref="element"] table {
    background-color: #1e1e1e;
    color: #e0e0e0;
    border-color: #444;
}

/* Handle striped tables */
body.dark-mode .table-striped tbody tr:nth-of-type(odd) {
    background-color: #2a2a2a;
}

/* Handle hover effect */
body.dark-mode .table-hover tbody tr:hover {
    background-color: #333;
}

/* Fix table cell inputs in dark mode */
body.dark-mode .formio-component-table input,
body.dark-mode .formio-component-table select,
body.dark-mode .formio-component-table textarea {
    background-color: #2d2d2d;
    color: #e0e0e0;
    border-color: #444;
}

/* Dropdown option styling for dark mode */
body.dark-mode select option {
    background-color: #2d2d2d !important;
    color: #e0e0e0 !important;
}

/* Handle optgroup if used */
body.dark-mode select optgroup {
    background-color: #2d2d2d !important;
    color: #e0e0e0 !important;
}

/* Form.io specific dropdown components */
body.dark-mode .choices__list--dropdown .choices__item {
    background-color: #2d2d2d !important;
    color: #e0e0e0 !important;
}

body.dark-mode .choices__list--dropdown {
    background-color: #2d2d2d !important;
    border-color: #444 !important;
}

/* Dropdown search input styling */
body.dark-mode .choices__input,
body.dark-mode .choices__input--cloned {
    background-color: #383838 !important;
    color: #e0e0e0 !important;
    border-color: #555 !important;
}

body.dark-mode .choices__input::placeholder {
    color: #aaa !important;
}

/* Search container styling */
body.dark-mode .choices__list--dropdown .choices__list {
    background-color: #2d2d2d !important;
}

/* Select2 search field if used */
body.dark-mode .select2-search, 
body.dark-mode .select2-search--dropdown {
    background-color: #2d2d2d !important;
}

body.dark-mode .select2-search__field {
    background-color: #383838 !important;
    color: #e0e0e0 !important;
    border-color: #555 !important;
}

body.dark-mode .select2-search--dropdown .select2-search__field::placeholder {
    color: #aaa !important;
}

/* Generic search inputs in dropdowns */
body.dark-mode .dropdown-menu input[type="search"],
body.dark-mode .dropdown-menu input[type="text"] {
    background-color: #383838 !important;
    color: #e0e0e0 !important;
    border-color: #555 !important;
}

/* Active/highlighted state */
body.dark-mode .choices__list--dropdown .choices__item--selectable.is-highlighted {
    background-color: #444 !important;
}

/* Select2 component if used */
body.dark-mode .select2-dropdown,
body.dark-mode .select2-dropdown--below,
body.dark-mode .select2-dropdown--above {
    background-color: #2d2d2d !important;
    color: #e0e0e0 !important;
    border-color: #444 !important;
}

body.dark-mode .select2-results__option {
    background-color: #2d2d2d !important;
    color: #e0e0e0 !important;
}

body.dark-mode .select2-results__option--highlighted,
body.dark-mode .select2-results__option[aria-selected=true] {
    background-color: #444 !important;
    color: #ffffff !important;
}

/* Bootstrap dropdown menus if used */
body.dark-mode .dropdown-menu {
    background-color: #2d2d2d !important;
    border-color: #444 !important;
}

body.dark-mode .dropdown-item {
    color: #e0e0e0 !important;
}

body.dark-mode .dropdown-item:hover,
body.dark-mode .dropdown-item:focus {
    background-color: #444 !important;
    color: #ffffff !important;
}